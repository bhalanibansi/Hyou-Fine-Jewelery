{"sections":{"b57b3028-8e3a-45e2-9341-de8a4d4589c1":{"type":"section-hero","blocks":{"template--21575219151156__b57b3028-8e3a-45e2-9341-de8a4d4589c1-heading-1":{"type":"heading","disabled":true,"settings":{"title":"Image banner","heading_size":11}},"template--21575219151156__b57b3028-8e3a-45e2-9341-de8a4d4589c1-text-1":{"type":"text","disabled":true,"settings":{"description":"Tell your brand's story through images.","text_size":5,"text_style":"font-body"}},"template--21575219151156__b57b3028-8e3a-45e2-9341-de8a4d4589c1-button-1":{"type":"button","disabled":true,"settings":{"link_text":"View products","link":"","button_type":"btn--primary","button_size":"","button_style":"btn--solid","show_arrow":false}}},"block_order":["template--21575219151156__b57b3028-8e3a-45e2-9341-de8a4d4589c1-heading-1","template--21575219151156__b57b3028-8e3a-45e2-9341-de8a4d4589c1-text-1","template--21575219151156__b57b3028-8e3a-45e2-9341-de8a4d4589c1-button-1"],"disabled":true,"settings":{"height":"screen-height-one-third","width":"wrapper--full-padded","image_1":"shopify:\/\/shop_images\/about_us_banner-05.jpg","link":"","mobile_height":"screen-height-one-third--mobile","mobile_image":"shopify:\/\/shop_images\/about_us_banner-08.jpg","flex_align_desktop":"align--bottom-left-desktop","flex_align_mobile":"align--middle-center-mobile","overlay_opacity":0,"overlay_color":"#000000","show_overlay_text":false,"bg_color":"","color":"#ffffff"}},"main":{"type":"main-page","settings":{"subheading":"","subheading_size":2,"show_title":false,"heading_size":8,"show_content":true,"text_size":4,"align_text":"text-center","width":"wrapper","bg_color":"","color":"","padding_top":50,"padding_bottom":50}},"section_custom_code_WQnyaq":{"type":"section-custom-code","name":"Custom code","settings":{"code":"<div id=\"grapevine-container\"><\/div>\n    <script src=\"https:\/\/gvsurveys.s3.eu-west-2.amazonaws.com\/gv-embed-shadesofhyou.myshopify.com-6791e88c68ba1.js\"><\/script>\n    \n    <script>\n\t    \n\t    \tlet url = new URL(window.location.href);\t\t\t\n\t\t\tlet customerId = \"{{ customer.id }}\"; \/\/ Insert customer ID from Liquid\n\n\t\t\t\/\/ Ensure customerId is valid and prevent loop\n\t\t\tif (customerId && !url.searchParams.has(\"external_id\") && !sessionStorage.getItem(\"customer_redirected\")) {\n\t\t\t\turl.searchParams.set(\"external_id\", customerId); \/\/ Add external_id to URL\n\t\t\t\tsessionStorage.setItem(\"customer_redirected\", \"true\"); \/\/ Prevents redirect loop\n\t\t\t\twindow.location.replace(url.href); \/\/ Redirect with updated URL\n    \t\t}\n\t    \n        let checkSurveyInterval = setInterval(() => {\n            let surveyContainer = document.querySelector(\"#grapevine-container\");\n            let questions = document.querySelectorAll(\".grapevine-multi-questions div[id^='grapevine-question-']\");\n            let formContainer = document.querySelector(\"#grapevine-form\");\n            let submitButton = document.querySelector(\"#grapevine-submit-survey\");\n\n\n            if (questions.length > 0 && formContainer && submitButton) {\n                clearInterval(checkSurveyInterval); \/\/ Stop checking when survey is ready\n                \n                \/\/ Make the survey visible\n\t\t        if (surveyContainer) {\n\t\t            surveyContainer.style.display = \"block\"; \/\/ or \"inline-block\"\n\t\t        }\n        \n                initializeSurveyLogic(questions, formContainer, submitButton);\n            }\n        }, 500); \/\/ Check every 500ms\n\n        function initializeSurveyLogic(questions, formContainer, submitButton) {\n            console.log(\"Survey detected, initializing logic...\");\n\n            let currentQuestionIndex = 0;\n            \n            console.log(\"Total questions:\", questions.length);\n\n            \/\/ Hide the submit button initially\n            submitButton.style.display = \"none\";      \n\n            function checkAnswerSelected() {\n                let currentQuestion = questions[currentQuestionIndex];\n                let inputs = currentQuestion.querySelectorAll(\"input, select, textarea\");\n                let divs = currentQuestion.querySelectorAll(\".grapevine-nps-option\"); \/\/ For div-based options\n            \n                let isAnswerSelected = Array.from(inputs).some(input => {\n                    if (input.type === \"radio\" || input.type === \"checkbox\") {\n                        return input.checked;\n                    } else if (input.tagName === \"TEXTAREA\") {\n                        return input.value.trim() !== \"\";\n                    } else {\n                        return input.value.trim() !== \"\";\n                    }\n                });\n\n                isAnswerSelected = isAnswerSelected || Array.from(divs).some(div => div.classList.contains(\"selected\"));\n\n                nextButton.disabled = !isAnswerSelected;\n            }\n\n            function showQuestion(index) {\n                questions.forEach((q, i) => {\n                    q.style.display = i === index ? \"block\" : \"none\";\n                });\n\n                backButton.style.display = index > 0 ? \"inline-block\" : \"none\";\n                nextButton.style.display = index < questions.length - 1 ? \"inline-block\" : \"none\";\n                \n                submitButton.style.display = index === questions.length - 1 ? \"inline-block\" : \"none\";\n\n                checkAnswerSelected();\n            }\n\n            let navContainer = document.createElement(\"div\");\n            navContainer.id = \"grapevine-nav-container\";\n            navContainer.innerHTML = `\n                <button id=\"grapevine-back-btn\" class=\"button btn\" style=\"display: none;\">Back<\/button>\n                <button id=\"grapevine-next-btn\" class=\"button btn\" style=\"display: none;\" disabled>Next<\/button>\n            `;\n            formContainer.appendChild(navContainer);\n            navContainer.appendChild(submitButton);\n\n            let backButton = document.querySelector(\"#grapevine-back-btn\");\n            let nextButton = document.querySelector(\"#grapevine-next-btn\");\n\n            nextButton.addEventListener(\"click\", function () {\n                if (currentQuestionIndex < questions.length - 1) {\n                    currentQuestionIndex++;\n                    showQuestion(currentQuestionIndex);\n                }\n            });\n\n            backButton.addEventListener(\"click\", function () {\n                if (currentQuestionIndex > 0) {\n                    currentQuestionIndex--;\n                    showQuestion(currentQuestionIndex);\n                }\n            });\n\n            questions.forEach((question, index) => {\n                let divs = question.querySelectorAll(\".grapevine-nps-option\");\n\n                divs.forEach(div => {\n                    div.addEventListener(\"click\", function() {\n                        div.classList.add(\"selected\");\n                        checkAnswerSelected();\n                    });\n                });\n            });\n\n            questions.forEach((question, index) => {\n                let inputs = question.querySelectorAll(\"input, select, textarea\");\n                inputs.forEach(input => {\n                    input.addEventListener(\"input\", function () {\n                        if (index === currentQuestionIndex) {\n                            checkAnswerSelected();\n                        }\n                    });\n                });\n            });\n\n            if (submitButton) {\n                submitButton.addEventListener(\"click\", function () {\n                    sessionStorage.removeItem(\"customer_redirected\");\n                    console.log(\"Session item 'customer_redirected' removed.\");\n                });\n            }\n\n            showQuestion(0);\n        }\n    <\/script>","width":"wrapper","bg_color":"","color":"","padding_top":0,"padding_bottom":0}},"36b81faf-0dba-4f82-a5d8-a1a2eab857a2":{"type":"section-hero","blocks":{"template--21575219151156__36b81faf-0dba-4f82-a5d8-a1a2eab857a2-heading-1":{"type":"heading","disabled":true,"settings":{"title":"Image banner","heading_size":11}},"template--21575219151156__36b81faf-0dba-4f82-a5d8-a1a2eab857a2-text-1":{"type":"text","disabled":true,"settings":{"description":"Tell your brand's story through images.","text_size":5,"text_style":"font-body"}},"template--21575219151156__36b81faf-0dba-4f82-a5d8-a1a2eab857a2-button-1":{"type":"button","disabled":true,"settings":{"link_text":"EXPLORE HYOU JEWELRY","link":"shopify:\/\/collections\/shop-all","button_type":"btn--black","button_size":"","button_style":"btn--solid","show_arrow":false}}},"block_order":["template--21575219151156__36b81faf-0dba-4f82-a5d8-a1a2eab857a2-heading-1","template--21575219151156__36b81faf-0dba-4f82-a5d8-a1a2eab857a2-text-1","template--21575219151156__36b81faf-0dba-4f82-a5d8-a1a2eab857a2-button-1"],"disabled":true,"custom_css":[],"settings":{"height":"screen-height-one-third","width":"wrapper--full-padded","image_1":"shopify:\/\/shop_images\/about_us_banner-10.jpg","link":"","mobile_height":"screen-height-one-third--mobile","mobile_image":"shopify:\/\/shop_images\/about_us_banner-11.jpg","flex_align_desktop":"align--middle-center-desktop","flex_align_mobile":"align--middle-center-mobile","overlay_opacity":0,"overlay_color":"#000000","show_overlay_text":false,"bg_color":"","color":"#ffffff"}}},"order":["b57b3028-8e3a-45e2-9341-de8a4d4589c1","main","section_custom_code_WQnyaq","36b81faf-0dba-4f82-a5d8-a1a2eab857a2"]}